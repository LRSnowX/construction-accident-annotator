# 建筑业事故案例标注工具

这是一个用于人工标注事故案例是否属于建筑业的交互式命令行工具。

## 功能特点

- ✅ **交互式标注**: 逐条显示案例全文，支持快速标注
- 💾 **断点续传**: 自动保存进度，随时可以暂停和继续
- ↶ **撤销功能**: 支持撤销上一个标注
- ⊘ **跳过功能**: 不确定的案例可以先跳过
- 📊 **进度显示**: 实时显示标注进度
- 🔄 **自动保存**: 每标注10个案例自动保存一次

## 安装依赖

```bash
# 使用 uv（推荐）
uv sync

# 或使用 pip
pip install pandas
```

## 使用方法

1. 确保 `accident_cases.csv` 文件在项目根目录
2. 激活虚拟环境（如果使用）
3. 运行程序：

```bash
python main.py
```

## 操作说明

程序会逐条显示案例信息，包括：
- 标题
- 发布日期
- 分类
- URL
- 案例全文

### 标注选项

- **输入 `1`**: 标注为建筑业案例
- **输入 `0`**: 标注为非建筑业案例
- **输入 `s`**: 跳过此案例（暂时不确定）
- **输入 `u`**: 撤销上一个标注
- **输入 `q`**: 保存并退出

输入后自动进入下一个案例，无需按回车键。

## 输出文件

标注结果会保存到 `accident_cases_annotated.csv`，包含原始数据的所有列，外加：
- **is_construction**: 标注结果
  - `1`: 建筑业案例
  - `0`: 非建筑业案例
  - `-1`: 跳过的案例
  - 空值: 未标注

## 断点续传

- 程序会自动保存进度到 `.annotation_progress.txt`
- 下次运行时会询问是否继续之前的标注
- 可以随时按 `q` 退出，下次继续

## 快捷键

- **Ctrl+C**: 紧急退出并保存进度

## 示例工作流程

```
进度: 1/100
================================================================================

标题: 某建筑工地高处坠落事故
发布日期: 2025-05-06
分类: 高处坠落
URL: https://...

--------------------------------------------------------------------------------
案例全文:
--------------------------------------------------------------------------------

2025年5月6日，某工地发生高处坠落事故...

================================================================================

请标注此案例:
  1 - 建筑业案例
  0 - 非建筑业案例
  s - 跳过此案例
  u - 撤销上一个标注
  q - 保存并退出

请输入: 1
✓ 已标注为: 建筑业案例
```

## 注意事项

1. 建议定期保存（程序会每10条自动保存）
2. 不确定的案例可以先跳过，后续再处理
3. 标注完成后会显示统计信息
4. 输出文件会覆盖同名文件，请注意备份

## 技术栈

- Python 3.14+
- pandas 2.3.3+